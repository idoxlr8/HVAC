<a href="index.php?-action=new&-table=payments&invoiceid='.$record->strval('id').'&customer='.$record->strval('customer').'&date='.$mydate.'&tax='.$record->strval('tax').'&amount='.$record->strval('total').'&total='.$record->strval('total').'&partstotal='.$record->strval('partstotal').'&labortotal='.$record->strval('labortotaltotal')'&month='.$record->strval('month')'&year='.$record->strval('year')'"

!!check!! - UPDATE invoice SET payment1='00.00' WHERE payment1 = ""
!!check!! - change payment1 default value to 00.00

=========================
//payments table new columns//
invoicedate vchar(100) no default null
partstotal vchar(100) no default null null
labortotal vchar(100) no default null null
total vchar(100) no default null null
month vchar vchar(100) no default null null
year vchar vchar(100) no default null null

//invoice table//
add difference column to invoice - dummy to calculate difference
add labortaxable  enum default "no" null checked 
add partstaxable enum default "no" null checked

=============================
$sql="UPDATE payments b, invoice p SET b.invoicedate = p.date WHERE b.invoiceid = p.id
 ============================
 
 $sql="UPDATE payments b, invoice p SET b.partstotal = p.partstotal WHERE b.invoiceid = p.id
 ===========================
 
 $sql="UPDATE payments b, invoice p SET b.labortotal = p.labortotal WHERE b.invoiceid = p.id
 =============================
  $sql="UPDATE payments b, invoice p SET b.month = p.month WHERE b.invoiceid = p.id
 
 ============================
  $sql="UPDATE payments b, invoice p SET b.year = p.year WHERE b.invoiceid = p.id
 ===========================
 
   $sql="UPDATE payments b, invoice p SET b.total = p.total WHERE b.invoiceid = p.id
   
   ==============
   Be sure to build new indexes for searching